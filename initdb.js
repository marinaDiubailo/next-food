const sql = require('better-sqlite3')
const db = sql('meals.db')

const dummyMeals = [
  {
    title: 'Сочный чизбургер',
    slug: 'juicy-cheese-burger',
    image: '/images/burger.jpg',
    summary:
      'Аппетитный бургер с сочной говяжьей котлетой и расплавленным сыром, поданный в мягкой булочке.',
    instructions: `
      1. Приготовьте котлету:
         Смешайте 200 г фарша говядины с солью и перцем. Сформируйте котлету.

      2. Обжарьте котлету:
         Разогрейте сковороду с небольшим количеством масла. Обжаривайте котлету по 2-3 минуты с каждой стороны до румяной корочки.

      3. Соберите бургер:
         Обжарьте половинки булочки. На нижнюю половинку положите салат и помидор. Добавьте обжаренную котлету и сверху положите кусочек сыра.

      4. Подавайте:
         Завершите сборку верхней булочкой и подавайте горячим.
    `,
    creator: 'Дмитрий Иванов',
    creator_email: 'dmitriivanov@example.com',
  },
  {
    title: 'Острый карри',
    slug: 'spicy-curry',
    image: '/images/curry.jpg',
    summary:
      'Насыщенный и острый карри, пропитанный экзотическими специями и сливочным кокосовым молоком.',
    instructions: `
      1. Нарежьте овощи:
         Порежьте овощи на кусочки подходящего размера.

      2. Обжарьте овощи:
         В сковороде с маслом обжарьте овощи до легкой мягкости.

      3. Добавьте карри-пасту:
         Вмешайте 2 столовые ложки карри-пасты и готовьте еще минуту.

      4. Тушите с кокосовым молоком:
         Влейте 500 мл кокосового молока и доведите до кипения. Тушите около 15 минут.

      5. Подавайте:
         Наслаждайтесь этим сливочным карри с рисом или хлебом.
    `,
    creator: 'Максим Смирнов',
    creator_email: 'maximsmirnov@example.com',
  },
  {
    title: 'Домашние пельмени',
    slug: 'homemade-dumplings',
    image: '/images/dumplings.jpg',
    summary: 'Нежные пельмени с начинкой из мяса и овощей, приготовленные на пару до совершенства.',
    instructions: `
      1. Приготовьте начинку:
         Смешайте фарш, тертые овощи и специи.

      2. Наполните пельмени:
         Положите ложку начинки в центр каждого тестового кружка. Смочите края и сложите, чтобы запечатать.

      3. Приготовьте на пару:
         Разместите пельмени в пароварке. Готовьте около 10 минут.

      4. Подавайте:
         Наслаждайтесь пельменями горячими с соусом по вашему выбору.
    `,
    creator: 'Екатерина Петрова',
    creator_email: 'ekaterinapetrova@example.com',
  },
  {
    title: 'Классические макароны с сыром',
    slug: 'classic-mac-n-cheese',
    image: '/images/macncheese.jpg',
    summary: 'Кремовые и сырные макароны — это классика, которая всегда радует.',
    instructions: `
      1. Приготовьте макароны:
         Отварите макароны согласно инструкции на упаковке до состояния аль денте.

      2. Приготовьте сырный соус:
         В кастрюле растопите масло, добавьте муку, постепенно введите молоко и варите до загустения. Вмешайте тертый сыр до полного расплавления.

      3. Смешайте:
         Смешайте сырный соус с отваренными макаронами.

      4. Запекайте:
         Переложите в форму для запекания, посыпьте панировочными сухарями и запекайте до золотистой корочки.

      5. Подавайте:
         Подавайте горячими, при желании украсив петрушкой.
    `,
    creator: 'Людмила Кузнецова',
    creator_email: 'lyudmilakuznetsova@example.com',
  },
  {
    title: 'Аутентичная пицца',
    slug: 'authentic-pizza',
    image: '/images/pizza.jpg',
    summary:
      'Пицца с ручной лепкой, с кислым томатным соусом, свежими начинками и расплавленным сыром.',
    instructions: `
      1. Приготовьте тесто:
         Замесите тесто для пиццы и дайте ему подняться до удвоения в размере.

      2. Сформируйте и добавьте начинки:
         Раскатайте тесто, намажьте томатным соусом и добавьте ваши любимые начинки и сыр.

      3. Запекайте пиццу:
         Выпекайте в разогретой духовке при температуре 220°C около 15-20 минут.

      4. Подавайте:
         Нарежьте горячую пиццу и наслаждайтесь с посыпкой из базилика.
    `,
    creator: 'Михаил Орлов',
    creator_email: 'mikhailorlov@example.com',
  },
  {
    title: 'Венский шницель',
    slug: 'wiener-schnitzel',
    image: '/images/schnitzel.jpg',
    summary:
      'Хрустящий шницель из телятины, обжаренный до золотистой корочки — классика австрийской кухни.',
    instructions: `
      1. Подготовьте телятину:
         Отбейте телячьи котлеты до равномерной толщины.

      2. Панируйте телятину:
         Обваляйте каждую котлету в муке, окуните в взбитые яйца, затем в панировочные сухари.

      3. Обжарьте шницель:
         Разогрейте масло в сковороде и обжарьте шницель до золотистой корочки с обеих сторон.

      4. Подавайте:
         Подавайте горячим с ломтиком лимона и гарниром из картофельного салата или зелени.
    `,
    creator: 'Анна Федорова',
    creator_email: 'annaferodorova@example.com',
  },
  {
    title: 'Свежий томатный салат',
    slug: 'fresh-tomato-salad',
    image: '/images/tomato-salad.jpg',
    summary:
      'Легкий и освежающий салат со спелыми помидорами, свежим базиликом и пикантной винегретной заправкой.',
    instructions: `
      1. Подготовьте помидоры:
         Нарежьте свежие помидоры и выложите на тарелку.

      2. Добавьте зелень и приправы:
         Посыпьте нарезанным базиликом, солью и перцем.

      3. Заправьте салат:
         Полейте оливковым маслом и бальзамическим уксусом.

      4. Подавайте:
         Наслаждайтесь этим простым, вкусным салатом как гарниром или легким блюдом.
    `,
    creator: 'Светлана Алексеева',
    creator_email: 'svetlanaalekseeva@example.com',
  },
]

db.prepare(
  `
   CREATE TABLE IF NOT EXISTS meals (
       id INTEGER PRIMARY KEY AUTOINCREMENT,
       slug TEXT NOT NULL UNIQUE,
       title TEXT NOT NULL,
       image TEXT NOT NULL,
       summary TEXT NOT NULL,
       instructions TEXT NOT NULL,
       creator TEXT NOT NULL,
       creator_email TEXT NOT NULL
    )
`
).run()

async function initData() {
  const stmt = db.prepare(`
      INSERT INTO meals VALUES (
         null,
         @slug,
         @title,
         @image,
         @summary,
         @instructions,
         @creator,
         @creator_email
      )
   `)

  for (const meal of dummyMeals) {
    stmt.run(meal)
  }
}

initData()
